import{l as C,m as S,g as x,n as L,E as U,h as B,o as I,p as z,q as M}from"./element-plus-dd45dd58.js";import{T as N}from"./vue-codemirror-78bdafa1.js";import{F as T,G as R}from"./@codemirror-7230f411.js";import{Y as y,h as $,o as b,c as h,T as t,u as _,b as q,R as l,a as d,a5 as A,b7 as D,b5 as G}from"./@vue-454663f2.js";import{r as J,B as O}from"./@element-plus-de6588f6.js";import{d as P}from"./vuedraggable-430b6b2e.js";import{_ as Y}from"./index-4560894b.js";import"./dayjs-45a61459.js";import"./@ctrl-f8748455.js";import"./@vueuse-0b93be12.js";import"./lodash-es-1f027512.js";import"./@popperjs-c75af06c.js";import"./codemirror-537d30e5.js";import"./@lezer-e43a2c15.js";import"./crelt-7bb88e1d.js";import"./style-mod-fd510d21.js";import"./w3c-keyname-9fb136d3.js";import"./vue-694d59c9.js";import"./sortablejs-0c8a4bb3.js";import"./vue-router-4d99c070.js";import"./nprogress-b0bddee0.js";const H={__name:"index",props:{code:{type:String,default:()=>"请传入需要格式化的代码！"}},setup(i){const s=i,m=[T(),R];y({codeStr:"",extensions:m,log:console.log});const r=(p,e)=>{console.log(p,e)},f=$({get(){return s.code},set(p){}});return(p,e)=>(b(),h("div",null,[t(_(N),{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=o=>f.value=o),placeholder:"Code gose here...",style:{height:"400px"},autofocus:!1,"indent-with-tab":!0,tabSize:2,extensions:m,readOnly:!0,onReady:e[1]||(e[1]=o=>r("ready",o)),onChange:e[2]||(e[2]=o=>r("change",o)),onFocus:e[3]||(e[3]=o=>r("focus",o)),onBlur:e[4]||(e[4]=o=>r("blur",o))},null,8,["modelValue"])]))}};const K=i=>(D("data-v-c1cfe7e7"),i=i(),G(),i),Q={class:"layout-padding"},W={class:"drag-element",style:{display:"inline-block",width:"100px",height:"100px",margin:"10px",color:"gray"}},X={class:"drag-btns"},Z={style:{"margin-top":"30px"}},F=K(()=>d("div",{class:"card-header"},[d("span",null,"上传结果")],-1)),ee={__name:"index",setup(i){const s=y({uploadUrl:"",drag:!0,preview:{visible:!1,url:""},fileList:[{id:1,name:"json",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"},{id:2,name:"jack",url:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"}]}),m=(e,o)=>{console.log(e,o)},r=e=>e.type!="image/jpeg"?(x.error("Avatar picture must be JPG format!"),!1):e.size/1024/1024>2?(x.error("Avatar picture size can not exceed 2MB!"),!1):(s.fileList.push({id:e.uid,name:e.name,url:"https://fuss10.elemecdn.com/a/3f/3302e58f9a181d2509f3dc0fa68b0jpeg.jpeg"}),!0),f=e=>{s.preview.visible=!0,s.preview.url=e},p=e=>{let o,u=s.fileList;for(let a=0;a<u.length;a++)u[a].id===e.id&&(o=a);o&&s.fileList.splice(o,1)};return q(()=>{}),(e,o)=>{const u=L,a=U,g=B,c=I,v=C,w=z,E=H,V=M,j=S;return b(),h("div",Q,[t(v,null,{default:l(()=>[t(c,{span:24,style:{border:"1px solid #e4e7ed"}},{default:l(()=>[t(_(P),{modelValue:s.fileList,"onUpdate:modelValue":o[0]||(o[0]=n=>s.fileList=n),"item-key":"id"},{item:l(({element:n})=>[d("div",W,[t(u,{src:n.url,fit:"fill",class:"drag-img",style:{width:"100px",height:"100px"}},null,8,["src"]),d("div",X,[t(v,null,{default:l(()=>[t(c,{span:1},{default:l(()=>[t(g,{text:!0,onClick:k=>f(n.url),style:{float:"left"}},{default:l(()=>[t(a,null,{default:l(()=>[t(_(J))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),t(c,{span:20}),t(c,{span:1},{default:l(()=>[t(g,{text:!0,onClick:k=>p(n),style:{float:"right"}},{default:l(()=>[t(a,null,{default:l(()=>[t(_(O))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])])]),footer:l(()=>[d("div",Z,[t(w,{class:"avatar-uploader",action:s.uploadUrl,"show-file-list":!1,"on-success":m,"before-upload":r},{default:l(()=>[t(g,{type:"primary"},{default:l(()=>[A("点击上传")]),_:1})]),_:1},8,["action"])])]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(v,{style:{"margin-top":"30px"}},{default:l(()=>[t(c,{span:24},{default:l(()=>[t(V,{class:"box-card"},{header:l(()=>[F]),default:l(()=>[d("div",null,[t(E,{code:JSON.stringify(s.fileList,null,"	")},null,8,["code"])])]),_:1})]),_:1})]),_:1}),t(j,{modelValue:s.preview.visible,"onUpdate:modelValue":o[1]||(o[1]=n=>s.preview.visible=n)},{default:l(()=>[t(u,{src:s.preview.url,fit:"fill"},null,8,["src"])]),_:1},8,["modelValue"])])}}},we=Y(ee,[["__scopeId","data-v-c1cfe7e7"]]);export{we as default};
